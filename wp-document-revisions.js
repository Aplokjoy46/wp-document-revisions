jQuery(document).ready(function(b){function c(a){window.webkitNotifications.checkPermission()>0?RequestPermission(c):window.webkitNotifications.createNotification("icon.png","Lost Document Lock",a).show()}b(".revision").click(function(a){a.preventDefault();if(confirm(wp_document_revisions.restoreConfirmation))window.location.href=jQuery(this).attr("href")});b("#override_link").click(function(){jQuery.post(ajaxurl,{action:"override_lock",post_id:jQuery("#post_ID").val()||0},function(a){a?(b("#lock_override").hide(),
b(".error").not("#lock-notice").hide(),b("#publish, #add_media, #lock-notice").fadeIn(),autosave()):alert(wp_document_revisions.lockError)})});b("#document a").click(function(){window.webkitNotifications&&window.webkitNotifications.requestPermission()});adminpage&&adminpage=="post-php"&&typenow&&typenow=="document"&&setTimeout(function(){autosave();b("#autosave-alert p").text().indexOf(wp_document_revisions.lockNeedle)!=-1&&(window.webkitNotifications?c(wp_document_revisions.lostLockNotice):alert(convertEntities(wp_document_revisions.lostLockNotice)),
location.reload(!0))},200);b(document).bind("documentUpload",function(){var a=window.dialogArguments||opener||parent||top;a.jQuery("#content").val(attachmentID);a.jQuery("#message").hide();a.tb_remove();a.jQuery("#post").before(convertEntities(wp_document_revisions.postUploadNotice)).prev().fadeIn().fadeOut().fadeIn();a.jQuery("#sample-permalink").length==0?a.autosave_update_slug(post_id):a.jQuery("#sample-permalink").html(a.jQuery("#sample-permalink").html().replace(/\<\/span>(\.[a-z0-9]{3,4})?$/i,
wp_document_revisions.extension))})});